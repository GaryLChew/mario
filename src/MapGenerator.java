import java.io.File;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class MapGenerator {

	private int screenWidth, screenHeight;

	private int scale;
	
	private Scanner scan;

	public MapGenerator(int screenW, int screenH) {
		screenWidth = screenW;
		screenHeight = screenH;
	}

	public List<GameObject> arrayToList(String[] input) {
		List<GameObject> output = new ArrayList<>();
		
		for (int row = 0; row < input.length; row++) {
			String s = input[row];
			int goY = (int) (GameObject.getHeight() * row);

			for (int col = 0; col < s.length(); col++) {
				char c = s.charAt(col);
				int goX = (int) (GameObject.getWidth() * col);

				if (c == 'W') {
					output.add(new Platform(goX, goY));
				}
				else if (c == 'w') {
					output.add(new Platform(goX, goY));
					output.add(new GoombaBrick(goX, goY));
				}
				else if (c == 'C') {
					output.add(new Coin(goX, goY));
				}
				else if (c == 'M') {
					output.add(0, new Mario(goX, goY));
				}
				else if (c == 'G') {
					output.add(1, new Goomba(goX, goY));
				}
				else if (c == 'g') {
					output.add(1, new Goomba(goX, goY));
					output.add(new Coin(goX, goY));
				}
				else if (c == 'A') {
					output.add(new GoombaBrick(goX, goY));
				}
				else if (c == 'a') {
					output.add(new GoombaBrick(goX, goY));
					output.add(new Coin(goX, goY));
				}
			}
		}
		return output;
	}

	public List<GameObject> getMap(int i) {
		int scaleHeight = (int) ((screenHeight / maps[i].length) * .85);
		int scaleWidth = (int) ((screenWidth / maps[i][0].length()) * .85);

		scale = scaleHeight;

		// if (scaleHeight < scaleWidth) {
		// scale = scaleHeight;
		// } else {
		// scale = scaleWidth;
		// }

		GameObject.giveLength(scale);
		return arrayToList(maps[i]);
	}

	public char[][] tempOriginalMap() {
		String[] map = maps[0];
		char[][] output = new char[map.length][map[0].length()];
		for (int row = 0; row < map.length; row++) {
			String s = map[row];

			for (int col = 0; col < s.length(); col++) {
				char c = s.charAt(col);
				output[row][col] = c;
			}
		}
		return output;
	}

	private String[][] maps = { {

			"......................................................................",
			"......................................................................",
			"......................................................................",
			"......................................................................",
			"......................................................................",
			"...........ACCGCCA....................................................",
			"............WWWWW.....................................................",
			"......................................................................",
			"....ACCGCCA.......ACCGCCA.......................................W.....",
			".....WWWWW.........WWWWW..............................................",
			"............................................................W.........",
			"...........ACCGCCA.....................................W..............",
			"............WWWWW.....................................................",
			"..................................................WWW.................",
			".ACCGCCA.............ACCGCCA..........................WW..............",
			"..WWWWW...............WWWWW........WWWWWWWWW..........................",
			"...........................................................W..........",
			"AG.CCC........M........CCC..GA............................WW..........",
			"WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW", },

			{ 		"...........................C...........................................................................................C............................CC...................................................................................................................................................................................................................................",
					"...........................C..................................................C.......................................C...............................C.....C.....C......................................................................................................................................................................................................................",
					"...........................C.................................................C.C.....................................C.......C.................AGAC..AGA...................................................................................................W..WWW...................................................................................C.C.CCC.CCC.CCC.CCC.CCC..C.C.........",
					"...........................W................................................C...C..................................C............................W..C..W.....w..G..w........................................................................................W....W....C.........................................W....................................C.C..C..C....C..C.C.CCC...C..........",
					"...........................C...............................................C....C.................................C....AGA...C.....................C........WWWWWWW...C.....C..............................................................................W....W....C.........................................W.....................................C..CCC.CCC..C..CCC.C..C..C..........",
					"...........................C...............................................W.....C..............................C.......W........................C...................................CC....................................................................W....W....C....................W.......W.......W.........W....................................................................",
					"...........................C.....................................................C.............................C....AGA......C..................C.AGA.................w..G..w..........C...................................................................WWW..W....C...................WWW.....WWW.....WWW....AGA.W............................WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW.......",
					"...........................W.............................................C.......C...........................C.......W..........................C..W..................WWWWWWW...........C.....C..................................................CC...CC...W....W....C...........................................W........W......................WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW.......",
					"...........................C.............................................W.......C..........................C....AGA.........C..........................................................C......C.................................................C.C.C.C...W....W....C................................................AGA.W................WAGA..........................................",
					"....CC.....................C......................................................C...............................W............................AGA...............................WWW............C.....C..........................................C..C..C...W....W...AGA..............AGA...............................W........W..........W.W...........................................",
					"......C....................C...............................................C......C...........................AGA............C..................W................................WWW............C......C.........................................C.....C...W..WWW...AGA...............W.....................................AGA.W.....WAGA...............................................",
					".......C...................W...............CCC.............................W......C............................W...........................WWW...................................WWW.....WWW............C................................WWWWWWWWWWWWWWWWWWW....W...AGA..................AGA.................................W........W.W................................................",
					"..M....C..................................C...C...................................C........................AGA..............AGA...........WWW....................................WWW.....WWW............C.......................................................W...AGA..................AGA......................................AGA....................................................",
					"WWWW.....................................C.....C.........................C.........C.............A...G..A...W...............AGA..........WWWWWWWWWWWWWWWWWWWWWW..................WWW.....WWW.....WWW...................................WwGGGGGGGGGGwGGGGGGGGGGGGw...AGA..............AGA..W........................................W.....................................................",
					"WWWW.AG.A..............ACCCgCCCA.........................................W.........C..............WWWWWW....................AGA.........WWW.C.C.C.C.C.C.C.C.C.W..................WWW.....WWW.....WWW...................................WWWWWWWWWWWWWWWWWWWWWWWWWW...AGA........AGA...AGA.................................................................................................",
					"WWWW..WwG.A.............WWWWWWW....................................................C........................................AGA.........WW..C.C.C.C.C.C.C.C.C.W..................WWW.....WWW.....WWW.....WWW............WWWWWWWWWWC.W...............................AGA...AGA..AGA....W..................................................................................................",
					"WWWW..WWWW.............................WWW.....WWW......C.C.C.C..C..C.CC...C.......C.....AgCCCA.............................AGA.......W.....C.C.C.C.C.C.C.C.C.W..................WWW.....WWW.....WWW.....WWW..........WWWWWWWWWWWW.CW...............................AGA...AGA...W........................................................................................................",
					"WWWW..WWWW...CCCCC...................WWWWW.....WWWW........................W.......C......WWWW..............................AGA......WW.....C.C.C.C.C.C.C.C.C.W..................WWW.....WWW.....WWW.....WWW.......WWWWWC.C.C.C.C.C.W...............................AGA....W.............................................................................................................",
					"WWWW..WWWW...WWWWw....G........G....wWWWWW.....WWWWW.....................C.........agCCCa...................................AGA.....WWW.WWWWC.C.C.C.C.C.C.C.C.W..................WWW.....WWW.....WWW.....WWW.....WWWWWWW.C.C.C.C.C.CW................................W...................................................................................................................",
					"WWWW..WWWW...WWWWWWWWWWWWWWWWWWWWWWWWWWWWW.....WWWWW....W.W.W.W..W..W....W..........WWWW.....................................W.....WWWW.WWWWWWWWWWWWWWWWWWWWWWW..................WWW.....WWW.....WWW.....WWW.....WWWWWWWWWWWWWWWWWWWW...................................................................................................................................................." } };
}
